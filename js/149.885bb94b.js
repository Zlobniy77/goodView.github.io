(globalThis["webpackChunkfirstpwa"]=globalThis["webpackChunkfirstpwa"]||[]).push([[149],{3149:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>Ze});var i=t(3673),a=t(2323);const o={class:"main"},n={class:"main-header"},s={class:"main-header-first-row"},r={style:{width:"50%"}},d={key:0},m={key:1,style:{display:"flex","flex-direction":"row-reverse"}},u=(0,i._)("div",{class:"header-item"}," Registration ",-1),c=(0,i._)("div",{style:{width:"50%",display:"flex"}},[(0,i._)("div",{style:{"margin-left":"20px",color:"red"}},[(0,i._)("i",{class:"fa-solid fa-igloo"})])],-1),p={class:"main-header-second-row"},g={style:{display:"flex",height:"80px","margin-bottom":"20px",overflow:"scroll",width:"100%"}},h=(0,i._)("i",{class:"fa-solid fa-object-ungroup"},null,-1),w=(0,i._)("div",null,"Custom filter",-1),f=[h,w],x={class:"main-body"},v=(0,i._)("div",{class:"main-footer"},null,-1);function y(e,l,t,h,w,y){const b=(0,i.up)("ListDefFilters"),_=(0,i.up)("AdList"),V=(0,i.up)("Login"),W=(0,i.up)("q-dialog"),q=(0,i.up)("FilterDialog");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",s,[(0,i._)("div",r,[e.hasLoggedIn?((0,i.wg)(),(0,i.iD)("div",d,(0,a.zw)(e.clientInfo.name),1)):((0,i.wg)(),(0,i.iD)("div",m,[u,(0,i._)("div",{onClick:l[0]||(l[0]=(...l)=>e.showLoginDialog&&e.showLoginDialog(...l)),class:"header-item"}," Sign in ")]))]),c]),(0,i._)("div",p,[(0,i._)("div",g,[(0,i._)("div",{onClick:l[1]||(l[1]=(...l)=>e.showFilterDialog&&e.showFilterDialog(...l)),class:"filter-block custom-filter-block"},f),(0,i.Wm)(b)])])]),(0,i._)("div",x,[(0,i.Wm)(_)]),v,(0,i.Wm)(W,{modelValue:e.showLogin,"onUpdate:modelValue":l[2]||(l[2]=l=>e.showLogin=l),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(V)])),_:1},8,["modelValue"]),(0,i.Wm)(W,{modelValue:e.showFilters,"onUpdate:modelValue":l[3]||(l[3]=l=>e.showFilters=l),"full-width":"","full-height":""},{default:(0,i.w5)((()=>[(0,i.Wm)(q)])),_:1},8,["modelValue"])])}var b=t(1959),_=t(8712),V=t.n(_);const W={style:{display:"flex","flex-wrap":"wrap"}},q={style:{display:"flex","flex-direction":"row"}},F={class:"row no-wrap items-center"},Z={class:"col text-h6 ellipsis"},D={class:"col-auto text-grey text-caption q-pt-md row no-wrap items-center"},L={class:"text-subtitle1"},C={class:"text-caption text-grey"};function Q(e,l,t,o,n,s){const r=(0,i.up)("q-img"),d=(0,i.up)("q-btn"),m=(0,i.up)("q-icon"),u=(0,i.up)("q-rating"),c=(0,i.up)("q-card-section"),p=(0,i.up)("q-separator"),g=(0,i.up)("q-card-actions"),h=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",W,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.ads,(e=>((0,i.wg)(),(0,i.iD)("div",q,[(0,i.Wm)(h,{style:{margin:"10px","max-width":"400px","min-width":"400px","max-height":"400px","min-height":"400px"},class:"my-card",flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{style:{"max-height":"150px"},src:V()}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{fab:"",color:"primary",icon:"place",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"}}),(0,i._)("div",F,[(0,i._)("div",Z,(0,a.zw)(e.generalInfoView.location),1),(0,i._)("div",D,[(0,i.Wm)(m,{name:"place"}),(0,i.Uk)(" 250 ft ")])]),(0,i.Wm)(u,{modelValue:o.stars,"onUpdate:modelValue":l[0]||(l[0]=e=>o.stars=e),max:5,size:"32px"},null,8,["modelValue"])])),_:2},1024),(0,i.Wm)(c,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i._)("div",L,(0,a.zw)(e.generalInfoView.price),1),(0,i._)("div",C,(0,a.zw)(e.generalInfoView.title),1)])),_:2},1024),(0,i.Wm)(p),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{flat:"",round:"",icon:"event"}),(0,i.Wm)(d,{flat:"",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Reserve ")])),_:1})])),_:1})])),_:2},1024)])))),256))])}var P=t(741);const R={name:"AdList",computed:{ads(){const e=(0,P.oR)();return e.getters["ad/getAds"]}},setup(){(0,P.oR)();const e="text",l=4.3;return{lorem:e,stars:l}}};var k=t(4260),A=t(151),I=t(4027),S=t(5589),M=t(3187),U=t(4554),H=t(8833),z=t(5869),$=t(9367),B=t(7518),j=t.n(B);const N=(0,k.Z)(R,[["render",Q]]),T=N;j()(R,"components",{QCard:A.Z,QImg:I.Z,QCardSection:S.Z,QBtn:M.Z,QIcon:U.Z,QRating:H.Z,QSeparator:z.Z,QCardActions:$.Z});const Y={class:"q-pa-md",style:{width:"400px",height:"300px","background-color":"white"}},K={style:{margin:"auto",width:"50%",padding:"10px","text-align":"center"}};function E(e,l,t,a,o,n){const s=(0,i.up)("q-input"),r=(0,i.up)("q-btn"),d=(0,i.up)("q-form"),m=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i.Wm)(d,{onSubmit:a.onSubmit,onReset:a.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{filled:"",modelValue:a.login,"onUpdate:modelValue":l[0]||(l[0]=e=>a.login=e),label:e.$t("loginLabel"),hint:e.$t("loginHint"),"lazy-rules":"",rules:[l=>l&&l.length>0||e.$t("simpleRulesLabel")]},null,8,["modelValue","label","hint","rules"]),(0,i.Wm)(s,{filled:"",modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=e=>a.password=e),label:e.$t("passwordLabel"),hint:e.$t("passwordHint"),"lazy-rules":"",rules:[l=>null!==l&&""!==l||e.$t("simpleRulesLabel")]},null,8,["modelValue","label","hint","rules"]),(0,i._)("div",K,[(0,i.Wm)(r,{label:"Submit",type:"submit",color:"primary"}),(0,i.wy)((0,i.Wm)(r,{label:"Close",type:"reset",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[m]])])])),_:1},8,["onSubmit","onReset"])])}var G=t(8825);const J={name:"Login",setup(){const e=(0,G.Z)(),l=(0,P.oR)(),t=(0,b.iH)(null),i=(0,b.iH)(null);return{login:t,password:i,onSubmit(){let a={login:t.value,password:i.value};console.log("onSubmit");l.dispatch("client/login",a);e.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted"})},onReset(){t.value=null,i.value=null}}}};var O=t(8689),X=t(1206),ee=t(677);const le=(0,k.Z)(J,[["render",E]]),te=le;function ie(e,l,t,a,o,n){return(0,i.wg)(),(0,i.iD)("div")}j()(J,"components",{QForm:O.Z,QInput:X.Z,QBtn:M.Z}),j()(J,"directives",{ClosePopup:ee.Z});const ae={name:"ListDefFilters",computed:{defFilters(){const e=(0,P.oR)();return e.getters["ad/getDefFilters"]}}},oe=(0,k.Z)(ae,[["render",ie]]),ne=oe,se={class:"q-pa-md",style:{width:"100%"}},re={style:{display:"flex"}},de={style:{"margin-right":"20px",cursor:"pointer"}},me=(0,i._)("div",{style:{"text-align":"center",width:"100%"}},"Filters",-1),ue={style:{width:"100%"}},ce={class:"q-px-lg q-pt-md q-pb-xl"},pe=(0,i._)("div",null," Price range ",-1),ge={style:{display:"flex"}},he=(0,i._)("div",null,null,-1),we=(0,i._)("div",{style:{width:"100%",height:"200px"}},"2",-1),fe=(0,i._)("div",{style:{width:"100%",height:"200px"}},"3",-1),xe=(0,i._)("div",{style:{width:"100%",height:"200px"}},"4",-1);function ve(e,l,t,a,o,n){const s=(0,i.up)("q-card-section"),r=(0,i.up)("q-separator"),d=(0,i.up)("q-range"),m=(0,i.up)("q-input"),u=(0,i.up)("q-btn"),c=(0,i.up)("q-card-actions"),p=(0,i.up)("q-card"),g=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)("div",se,[(0,i.Wm)(p,{style:{"max-width":"80vw",margin:"auto"}},{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",re,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",de,[(0,i.Uk)("x")])),[[g]]),me])])),_:1}),(0,i.Wm)(r),(0,i.Wm)(s,{style:{"max-height":"50vh"},class:"scroll"},{default:(0,i.w5)((()=>[(0,i._)("div",ue,[(0,i._)("div",ce,[pe,(0,i.Wm)(d,{modelValue:a.minMaxPriceModel,"onUpdate:modelValue":l[0]||(l[0]=e=>a.minMaxPriceModel=e),markers:"",min:0,max:20,onChange:l[1]||(l[1]=e=>a.changeFilter("price",a.minMaxPriceModel))},null,8,["modelValue"]),(0,i._)("div",ge,[(0,i.Wm)(m,{type:"Number",dense:"",style:{width:"45%","margin-left":"0","margin-right":"auto"},modelValue:a.filterValueView.min,"onUpdate:modelValue":l[2]||(l[2]=e=>a.filterValueView.min=e),label:"Minimum",onChange:l[3]||(l[3]=e=>a.changeFilter2("price",a.filterValueView))},null,8,["modelValue"]),he,(0,i.Wm)(m,{type:"Number",dense:"",style:{width:"45%","margin-left":"auto","margin-right":"0"},modelValue:a.filterValueView.max,"onUpdate:modelValue":l[4]||(l[4]=e=>a.filterValueView.max=e),label:"Maximum",onChange:l[5]||(l[5]=e=>a.changeFilter2("price",a.filterValueView))},null,8,["modelValue"])])])]),we,fe,xe])),_:1}),(0,i.Wm)(r),(0,i.Wm)(c,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{flat:"",label:"Decline",color:"primary"},null,512),[[g]]),(0,i.wy)((0,i.Wm)(u,{flat:"",label:n.showAmount,onClick:l[6]||(l[6]=e=>a.applyFilter()),color:"primary"},null,8,["label"]),[[g]])])),_:1})])),_:1})])}const ye={name:"FilterDialog",computed:{showAmount(){console.log("show amount");const e=(0,P.oR)();let l="Show "+e.getters["ad/getFilteredAdAmount"];return l}},setup(){const e=(0,P.oR)(),l=(0,b.iH)({minPrice:0,maxPrice:0}),t=(0,b.iH)({min:0,max:1e4}),i=(0,b.iH)({min:0,max:20}),a=(i,a)=>{console.log(i,a);let o={min:a.min,max:a.max};e.dispatch("ad/getPriceValue",o).then((i=>{l.minPrice=i.minPrice,l.maxPrice=i.maxPrice,t.value.min=i.minPrice,t.value.max=i.maxPrice,e.commit("ad/setFilter",l),e.dispatch("ad/calculateAdAmount",i)})).catch()},o=(l,t)=>{console.log(l,t);let a={minPrice:t.min,maxPrice:t.max};e.dispatch("ad/getPriceIndex",a).then((e=>{i.value.min=e.min,i.value.max=e.max})).catch(),e.dispatch("ad/calculateAdAmount",a)},n=()=>{console.log("apply filter "+l),e.dispatch("ad/loadsFilteredAds",l)};return{filterValueView:t,filter:l,minMaxPriceModel:i,changeFilter:a,changeFilter2:o,applyFilter:n}}};var be=t(9428);const _e=(0,k.Z)(ye,[["render",ve]]),Ve=_e;j()(ye,"components",{QCard:A.Z,QCardSection:S.Z,QSeparator:z.Z,QRange:be.Z,QInput:X.Z,QCardActions:$.Z,QBtn:M.Z}),j()(ye,"directives",{ClosePopup:ee.Z});const We=(0,i.aZ)({name:"MainLayout",components:{FilterDialog:Ve,ListDefFilters:ne,Login:te,AdList:T},methods:{showLoginDialog(){this.showLogin=!0},showFilterDialog(){this.showFilters=!0}},computed:{hasLoggedIn(){const e=(0,P.oR)();let l=e.getters["client/getClientInfo"];return void 0!==l&&null!==l},clientInfo(){const e=(0,P.oR)();let l=e.getters["client/getClientInfo"];return l}},setup(){const e=(0,P.oR)();let l=(0,b.iH)(!1),t=(0,b.iH)(!1);return(0,i.wF)((()=>{console.log("before mount"),e.dispatch("ad/loadAds")})),{showLogin:l,showFilters:t}}});var qe=t(2516);const Fe=(0,k.Z)(We,[["render",y]]),Ze=Fe;j()(We,"components",{QDialog:qe.Z})},8712:(e,l,t)=>{e.exports=t.p+"img/test.9bf59d7d.jpg"}}]);